
{% load static %}
<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no, user-scalable=no">
        <title>Sign Up</title>
        <link rel="shortcut icon" href="{% static "images/fav.jpg" %}" rel="stylesheet"/>
        <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}" rel="stylesheet"/>
        <link rel="stylesheet" href="{% static "css/fontawsom-all.min.css" %}" rel="stylesheet"/>
        <link rel="stylesheet" href="{% static "css/animate.css" %}" rel="stylesheet"/>
        <link rel="stylesheet" type="text/css" href="{% static "/css/style.css"%}" rel="stylesheet"/>
        <style>
            body {
                font-family: Arial, Helvetica, sans-serif;
                background-color: #f2f2f2;
            }
            
            .registration-container {
                width: 500px;
                margin: 0 auto;
                margin-top: 100px;
                background-color: black;
                background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent gray background color */
                border-radius: 5px;
                padding: 20px;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            }
            
            /* Content inside the registration container */
            .registration-container h2 {
                text-align: center;
            }
            
            .input-group {
                margin-bottom: 15px;
            }
            
            .input-group label {
                display: block;
                margin-bottom: 5px;
            }
            
            .input-group input {
                width: 95%;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 3px;
            }
            
            .registration-button {
                width: 100%;
                padding: 10px;
                background-color: #d39647;
                color: #151111;
                border: none;
                border-radius: 3px;
                cursor: pointer;
            }
            
            .registration-button:hover {
                background-color: #0056b3;
            }
            
            /* Add a transition for a smoother effect */
            .registration-button {
                transition: background-color 0.3s ease;
            }
            
           
           .banner-container {
            background-image: url('{% static '/images/head_bg.jpg' %}');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            min-height: 100vh;
           }
           

           .header-container {
            background-color: black; /* Set the background color to black */
        }

        .header-container {
            background-color: rgba(0, 0, 0, 0.5); /* Set the background color to black with 80% opacity */
        }
        
        .input-error {
            border: 1px solid red;
        }
    
        /* CSS class for green border */
        .input-success {
            border: 1px solid green;
        }
        
        /* Apply a background color change effect on hover */
        .header-top ul li:hover {
          background-color: #0056b3; /* Change to the desired color on hover */
         color: white; /* Change text color for better visibility */
         transition: background-color 0.2s ease; /* Add a smooth transition effect */
         }

         /* Style for the login/signup button */
           .nav-div ul li:last-child a {
               background-color:#2a6b5f;
               color: #FFFFFF;
               font-size: 11px;
                padding: 10px 20px; /* Adjust padding as needed */
               border-radius: 5px; /* Add rounded corners */
               text-decoration: none;
            } 
 



    </style>
    </head>
         <body>

        <!--########################## Header CSS ####################-->
        <div class="header-container">
            <div class="header-top">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-7 col-md-12 left-item">
                            <ul>
                                <li>
                                    <i class="fas fa-envelope-square"></i>
                                    devicerevive@gmail.com
                                    </li>
                                <li class="d-none d-sm-block">
                                    <i class="fas fa-phone-square"></i>
                                    9567854321
                                    </li>
                            </ul>
                        </div>
                        <div class="col-lg-5 d-none d-lg-block right-item">
                            <ul>
                                <li>
                                    <a>
                                        <i class="fab fa-github" style="color: white;"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="">
                                        <i class="fab fa-linkedin-in" style="color: white;"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="">
                                        <i class="fab fa-pinterest-p" style="color: white;"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="">
                                        <i class="fab fa-twitter" style="color: white;"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="">
                                        <i class="fab fa-facebook-f" style="color: white;"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
            <nav id="menu-jk" class="container-fluid  no-padding">
                <div class="container">
                    <div class="row">
                        <div class="col-md-1 col-sm-1 logo">
                            <img class="log" src="{% static '/images/mylogo.png' %}"  alt="">
                            <img class="log-gray" src="" alt="">
                            <a data-toggle="collapse" data-target="#nav-head" href="#nav-head">
                                <i class="fas d-block d-md-none small-menu fa-bars"></i>
                            </a>
                        </div>
                        <div id="nav-head" color="black" class="col-md-9 nav-div d-none d-md-block">
                            <ul>
                                <li>
                                    <a class="js-scroll-trigger" href="index">HOME</a>
                                </li>
                                <li>
                                    <a class="js-scroll-trigger" href="services">SERVICES</a>
                                </li>
                                
                                
                                
                                <li>
                                    <a class="js-scroll-trigger" href="about">ABOUT</a>
                                </li>
                                <li class="yc">
                                    <a class="js-scroll-trigger" href="why">EXPERIENCE</a>
                                </li>

                                <li>
                                    <a class="js-scroll-trigger" href="contact">CONTACT</a>
                                </li>
                                <li>
                                    {% if user.is_authenticated %}
                                        <a href="logout" class="btn btn-primary ml-lg-3">Logout</a>
                                    {% else %}
                                        <a href="login" class="btn btn-primary ml-lg-3">Login/Signup</a>
                                    {% endif %}
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <!--########################## Slider CSS ####################-->

        <div id="home" class="banner-container no-padding">
            <div class="container">
                <div class="row mx-auto"></div>
                <div class="slider-det">
                    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                        <div class="registration-container">
                            <h2>SIGNUP</h2>
                            <form id="signup-form" method="POST">
                                {% csrf_token %}
                                
                                <!-- Personal Information -->
                                <div class="form-group">
                                    <label for="full-name">Full Name:</label>
                                    <input type="text" id="full-name" name="full-name" class="form-control" required onblur="checkEmptyField(this)" oninput="checkEmptyField(this)">
                                    <span id="full-name-error" class="error"></span>
                                    <div id="full-name-warning" class="warning"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="email">Email Address:</label>
                                    <input type="email" id="email" name="email" class="form-control" required onblur="checkEmptyField(this)" oninput="checkEmptyField(this)">
                                    <span id="email-error" class="error"></span>
                                    <div id="email-warning" class="warning"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="phone">Phone Number:</label>
                                    <input type="tel" id="phone" name="phone" class="form-control" required onblur="checkEmptyField(this)" oninput="checkEmptyField(this)">
                                    <span id="phone-error" class="error"></span>
                                    <div id="phone-warning" class="warning"></div>
                                </div>
                                
                                <!--<div class="form-group">
                                    <label>Address:</label>
                                    <input type="text" id="street" name="street" class="form-control" placeholder="Street Address" required>
                                    <input type="text" id="city" name="city" class="form-control" placeholder="City" required>
                                    <input type="text" id="state" name="state" class="form-control" placeholder="State/Province" required>
                                    <input type="text" id="zip" name="zip" class="form-control" placeholder="Postal/ZIP Code" required>
                                    <input type="text" id="country" name="country" class="form-control" placeholder="Country" required>
                                </div>-->
                                
                                <!-- User Account -->
                             
                                <div class="form-group">
                                    <label for="username">Username:</label>
                                    <input type="text" id="username" name="username" class="form-control" required onblur="checkEmptyField(this)" oninput="checkEmptyField(this)">
                                    <span id="username-error" class="error"></span>
                                    <div id="username-warning" class="warning"></div>
                                    <div id="username-availability" class="availability"></div> 
                                </div>
                                
                                <div class="form-group">
                                    <label for="password">Password:</label>
                                    <input type="password" id="password" name="password" class="form-control" required onblur="checkEmptyField(this)" oninput="checkEmptyField(this)">
                                    <span id="password-error" class="error"></span>
                                    <span id="password-requirements" class="requirements"></span>
                                    <div id="password-warning" class="warning"></div>
                                </div>
                                
                                
                                <div class="form-group">
                                    <label for="confirm-password">Confirm Password:</label>
                                    <input type="password" id="confirm-password" name="confirm-password" class="form-control" required onblur="checkEmptyField(this)" oninput="checkEmptyField(this)">
                                    <span id="confirm-password-error" class="error"></span>
                                    <div id="confirm-password-warning" class="warning"></div>
                                </div>
                                
                                <!-- Consent -->
                                <div class="form-group">
                                    <input type="checkbox" id="consent" name="consent" required>
                                    <label for="consent">I have read and agree to the terms and conditions.</label>
                                </div>
                                
                                <!-- Submit Button -->
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>        

 <!--########################## Footer CSS ####################-->
 <footer>
    <div class="container">
        <div class="row">
            <div class="col-md-3 about">
                <h2>About Us</h2>
                <p>At Device Revive, we are passionate about technology and dedicated to providing top-notch laptop and desktop services. With 20 years of experience in the industry, we have earned a reputation for excellence and reliability.
                </p>

                <div class="foot-address">
                    <div class="icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="addet">
                        Kottayam
                    </div>
                </div>
                <div class="foot-address">
                    <div class="icon">
                        <i class="far fa-envelope-open"></i>
                    </div>
                    <div class="addet">
                        devicerevive.com
                        <br>
                        devicerevive@gmail.com
                    </div>
                </div>
                <div class="foot-address">
                    <div class="icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="addet">
                        9567854321
                        <br>
                        8078046110
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 glink">
                <ul>
                    <li>
                        <a href="index">
                            <i class="fas fa-angle-double-right"></i>Home</a>
                    </li>
                    <li>
                        <a href="about">
                            <i class="fas fa-angle-double-right"></i>About Us</a>
                    </li>
                    <li>
                        <a href="services">
                            <i class="fas fa-angle-double-right"></i>Services</a>
                    </li>
                    <li>
                        <a class="js-scroll-trigger" href="about">BOOKING</a>
                    </li>
                    
                    
                    <li>
                        <a href="contact">
                            <i class="fas fa-angle-double-right"></i>Contact Us</a>
                    </li>
                </ul>
            </div>
            <div class="col-md-3 tags">
                <h2>Our Services</h2>
                <ul>
                    <li>Desktop Service</li>
                    <li>Laptop Service</li>
                    <li>Data Recovery</li>
                    <li>Software Installation</li>
                    <li>Motherboard Service</li>
                    <li>Computer Networking</li>
                    
                </ul>
            </div> 
        </div>
    </div>
</footer>
<div class="copy">
    <div class="container">
        <a href=""></a>

        <span>
            <a>
                <i class="fab fa-github"></i>
            </a>
            <a >
                <i class="fab fa-google-plus-g"></i>
            </a>
            <a href="">
                <i class="fab fa-pinterest-p"></i>
            </a>
            <a href="">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="">
                <i class="fab fa-facebook-f"></i>
            </a>
        </span>
    </div>

</div>

<script>
    // Get references to the form and input fields
    const form = document.getElementById("signup-form");
    const usernameInput = document.getElementById("username");
    const phoneInput = document.getElementById("phone");
    const fullNameInput = document.getElementById("full-name");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirm-password");
    const usernameError = document.getElementById("username-error");
    const emailError = document.getElementById("email-error");
    const passwordError = document.getElementById("password-error");
    const confirmPasswordError = document.getElementById("confirm-password-error");
    const fullNameError = document.getElementById("full-name-error");
    const phoneError = document.getElementById("phone-error");
    
    // Function to validate the form
    function validateForm() {
        // Reset previous error messages
        usernameError.textContent = "";
        emailError.textContent = "";
        passwordError.textContent = "";
        confirmPasswordError.textContent = "";
        fullNameError.textContent = "";
        phoneError.textContent = "";

        // Get the values of the input fields
        const phoneNumber = phoneInput.value.trim();
        const fullName = fullNameInput.value.trim();
        const username = usernameInput.value.trim();
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();
        const confirmPassword = confirmPasswordInput.value.trim();

     

        // Check if any error messages are displayed
        const hasErrors = !!(
            usernameError.textContent ||
            emailError.textContent ||
            passwordError.textContent ||
            confirmPasswordError.textContent ||
            fullNameError.textContent ||
            phoneError.textContent
        );

        // If any errors exist, prevent form submission
        if (hasErrors) {
            return false;
        }

        // If all validations pass, allow form submission
        return true;
    }

    // Attach the validateForm function to the form's submit event
    form.addEventListener("submit", function (event) {
        if (!validateForm()) {
            event.preventDefault(); // Prevent form submission if validation fails
        }
    });

    // Real-time validation for all fields as the user types
    usernameInput.addEventListener("input", function () {
        validateUsername();
    });

    emailInput.addEventListener("input", function () {
        validateEmailRealTime();
    });

    passwordInput.addEventListener("input", function () {
        validatePassword();
    });

    confirmPasswordInput.addEventListener("input", function () {
        validateConfirmPassword();
    });

    fullNameInput.addEventListener("input", function () {
        validateFullName();
    });

    phoneInput.addEventListener("input", function () {
        validatePhoneNumber();
    });

    emailInput.addEventListener("keyup", function () {
        validateEmailWithCapital();
    });

    

  

    // Helper functions for individual field validation
    function validateUsername() {
        const username = usernameInput.value.trim();
        if (username.length < 3) {
            usernameError.textContent = "Username must be at least 3 characters.";
        } else if (!/^[a-zA-Z][a-zA-Z0-9]*$/.test(username)) {
            usernameError.textContent = "Username must start with a letter and can only contain letters and numbers.";
        } else {
            usernameError.textContent = "";
        }
    }
    

    function validateUsername() {
        const username = usernameInput.value.trim();
        if (username.length < 3) {
            usernameError.textContent = "Username must be at least 3 characters.";
        } else if (!/^[a-zA-Z][a-zA-Z0-9]*$/.test(username)) {
            usernameError.textContent = "Username must start with a letter and can only contain letters and numbers.";
        } else {
            // Send an AJAX request to check username availability
            const xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        const response = JSON.parse(xhr.responseText);
                        if (response.available) {
                            usernameError.textContent = "";
                        } else {
                            usernameError.textContent = "This username already exists.";
                        }
                    } else {
                        console.error("Error checking username availability");
                    }
                }
            };
    
            xhr.open("GET", `/check_username_availability/?username=${username}`, true); // Replace with your actual URL
            xhr.send();
        }
    }
    
    
    
    function validateEmailRealTime() {
            const email = emailInput.value.trim();
            const errorElement = document.getElementById("email-error");

            // Check for the specific email address "a@a.com"
            if (email === "a@a.com") {
                errorElement.textContent = "Invalid email address.";
                return;
            }
    
            // Updated regular expression pattern to allow emails like "abhinamolv2024a@mca.ajce.in"
            const emailPattern = /^[a-zA-Z][a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    
            if (!emailPattern.test(email)) {
                errorElement.textContent = "Invalid email format";
            } else if (!/^[a-zA-Z0-9._%+-]+@(gmail|mca|ajce|yahoo)\.[a-z.]{2,}$/i.test(email)) {
                errorElement.textContent = "Invalid email format";
            } else if (email.length > 320) {
                errorElement.textContent = "Invalid email format";
            } else {
                errorElement.textContent = "";
            }
    }
    
     
    


    function validatePassword() {
        const password = passwordInput.value.trim();
        if (password.length < 6) {
            passwordError.textContent = "Password must be at least 6 characters.";
        } else {
            passwordError.textContent = "";
        }
    }

    function validateConfirmPassword() {
        const confirmPassword = confirmPasswordInput.value.trim();
        const password = passwordInput.value.trim();
        if (confirmPassword !== password) {
            confirmPasswordError.textContent = "Passwords do not match.";
        } else {
            confirmPasswordError.textContent = "";
        }
    }
        
        
    function validateFullName() {
        const fullName = fullNameInput.value.trim();
        if (!/^[A-Za-z\s]+$/.test(fullName)) {
            fullNameError.textContent = "Full name can only contain letters and spaces.";
        } else {
            fullNameError.textContent = "";
        }
    }
    

    
    function validatePhoneNumber() {
        const phoneNumber = phoneInput.value.trim();
        if (!/^[6-9]\d{9}$/.test(phoneNumber)) {
            phoneError.textContent = "Invalid Phone number";
        } else {
            phoneError.textContent = "";
        }
    }
    

    // Function to validate the password
  
    function validatePassword() {
        const password = passwordInput.value.trim();
        const hasDigit = /\d/.test(password);
        const hasCapitalLetter = /[A-Z]/.test(password);
        const hasSpecialCharacter = /[!@#$%^&*()_+{}\[\]:;<>,.?~\\\-]/.test(password);

        // Check if the password meets the requirements
        if (password.length >= 6 && hasDigit && hasCapitalLetter && hasSpecialCharacter) {
            passwordError.textContent = "";
            passwordRequirements.textContent = "";
        } else {
            passwordError.textContent = "Password must be at least 6 characters and include digits, an uppercase letter, and  special character.";
            passwordRequirements.textContent = "Requirements: At least 6 characters, 1 digit, 1 uppercase letter, and 1 special character.";
        }
    }

    function checkEmptyField(field) {
        const warningMessage = document.getElementById(field.id + "-warning"); // Get the warning div associated with the field

        if (field.value.trim() === "") {
            field.classList.remove("input-filled"); // Remove the filled class
            field.classList.remove("input-success");
            field.classList.add("input-error");
            warningMessage.textContent = "This field is required."; // Set the warning message
            warningMessage.style.color = "red"; // Set the warning text color to red
        } else {
            field.classList.remove("input-error");
            field.classList.add("input-filled"); // Add the filled class
            field.classList.add("input-success");
            warningMessage.textContent = ""; // Clear the warning message
        }
    }

</script>
</body>
<script src="{% static '/js/jquery-3.2.1.min.js' %}"></script>
<script src="{% static '/js/popper.min.js' %}"></script>
<script src="{% static '/js/bootstrap.min.js' %}"></script>
<script src="{% static '/plugins/scroll-fixed/jquery-scrolltofixed-min.js' %}"></script>
<script src="{% static '/js/script.js' %}"></script>

</html>
